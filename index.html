<!DOCTYPE html>
<html lang="ar" dir="rtl" id="htmlTag" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø´Ù‡Ø±ÙŠØªÙŠ | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ø®ØµÙŠØ©</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ§Øª */
        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f1c40f;
            --danger-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --text-color: #333;
            --bg-color: #f5f7fa;
            --card-bg: white;
            --border-color: #ddd;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --border-radius: 8px;
        }

        [data-theme="dark"] {
            --bg-color: #1a1a2e;
            --text-color: #f1f1f1;
            --card-bg: #16213e;
            --border-color: #2d4059;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --primary-color: #4a89dc;
            --secondary-color: #e6e6e6;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Tajawal', Arial, sans-serif;
        }

        body {
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            transition: all 0.3s ease;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo svg {
            height: 40px;
            width: auto;
        }

        .logo-text {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--secondary-color);
        }

        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }

        /* Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .hero {
            text-align: center;
            padding: 60px 0;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
        }

        .hero h1 span {
            color: var(--primary-color);
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-color);
            opacity: 0.8;
            max-width: 700px;
            margin: 0 auto 30px;
        }

        /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .home-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .option-card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            border: 1px solid var(--border-color);
        }

        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px var(--shadow-color);
        }

        .option-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .option-card h3 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        /* Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ */
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .social-link:hover {
            transform: scale(1.2);
        }

        .facebook {
            color: #1877F2;
            background-color: rgba(24, 119, 242, 0.1);
        }

        .twitter {
            color: #1DA1F2;
            background-color: rgba(29, 161, 242, 0.1);
        }

        .telegram {
            color: #0088CC;
            background-color: rgba(0, 136, 204, 0.1);
        }

        .social-link svg {
            width: 20px;
            height: 20px;
        }

        /* Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© */
        .calculator {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px var(--shadow-color);
            margin: 30px auto;
            border: 1px solid var(--border-color);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--secondary-color);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: border-color 0.3s;
            background-color: var(--card-bg);
            color: var(--text-color);
        }

        select.form-control {
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 15px;
        }

        .calculate-btn {
            background: linear-gradient(135deg, var(--primary-color), #2980b9);
            color: white;
            padding: 15px 30px;
            font-size: 1.1rem;
            width: 100%;
            max-width: 300px;
            margin: 20px auto;
            display: block;
        }

        /* Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        .result {
            margin-top: 30px;
            padding: 25px;
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            display: none;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .highlight {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .advice-box {
            margin-top: 15px;
            padding: 15px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--primary-color);
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
        .control-buttons {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-btn {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 2px 5px var(--shadow-color);
            transition: all 0.3s;
        }

        .control-btn:hover {
            transform: scale(1.1);
        }

        /* ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            .top-bar {
                flex-direction: column;
                gap: 15px;
            }
            
            .auth-buttons {
                width: 100%;
                justify-content: center;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .home-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <div class="container top-bar">
        <div class="logo">
            <svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
                <path fill="#3498db" d="M150,20 Q180,40 150,60 Q120,40 150,20 Z"/>
                <text x="150" y="40" font-size="28" text-anchor="middle" fill="#2c3e50" font-family="Tajawal">Ø´Ù‡Ø±ÙŠØªÙŠ</text>
                <text x="150" y="80" font-size="20" text-anchor="middle" fill="#f1c40f" font-family="Montserrat">Shahryati</text>
            </svg>
            <span class="logo-text">Ø´Ù‡Ø±ÙŠØªÙŠ</span>
        </div>
        <div class="auth-buttons" id="authButtons">
            <button class="btn btn-outline" onclick="showAuthForm('login')" data-translate="loginBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            <button class="btn btn-primary" onclick="showAuthForm('register')" data-translate="registerBtn">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
        </div>
        <div class="user-menu" id="userMenu" style="display: none;">
            <span id="usernameDisplay"></span>
            <button class="btn btn-outline" onclick="logout()" data-translate="logoutBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>
    </div>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="container">
        <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <div id="homePage">
            <div class="hero">
                <h1 data-translate="welcomeTitle">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ <span>Ø´Ù‡Ø±ÙŠØªÙŠ</span></h1>
                <p data-translate="welcomeSubtitle">Ø£Ø¯Ø§Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© ÙˆØªØªØ¨Ø¹ Ù†ÙÙ‚Ø§ØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø©</p>
                
                <!-- Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
                <div class="home-options">
                    <div class="option-card" onclick="startCalculator()">
                        <div class="option-icon">ğŸ§®</div>
                        <h3 data-translate="calculatorOption">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</h3>
                        <p data-translate="calculatorDesc">Ø§Ø­Ø³Ø¨ Ø¯Ø®Ù„Ùƒ ÙˆÙ†ÙÙ‚Ø§ØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</p>
                    </div>
                    
                    <div class="option-card" onclick="showAuthForm('register')">
                        <div class="option-icon">ğŸ‘¤</div>
                        <h3 data-translate="registerOption">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h3>
                        <p data-translate="registerDesc">Ø§Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ¹Ø¯Ù‘Ù„ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ù„Ø§Ø­Ù‚Ø§Ù‹</p>
                    </div>
                    
                    <div class="option-card" onclick="showComingSoon()">
                        <div class="option-icon">ğŸ“Š</div>
                        <h3 data-translate="reportsOption">Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</h3>
                        <p data-translate="reportsDesc">ØªØ­Ù„ÙŠÙ„ Ø¥Ù†ÙØ§Ù‚Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ</p>
                    </div>
                </div>
                
                <!-- Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ -->
                <div class="social-links">
                    <a href="#" class="social-link facebook" title="Facebook">
                        <svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z"/></svg>
                    </a>
                    <a href="#" class="social-link twitter" title="Twitter">
                        <svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M22.46 6c-.77.35-1.6.58-2.46.69c.88-.53 1.56-1.37 1.88-2.38c-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29c0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15c0 1.49.75 2.81 1.91 3.56c-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07a4.28 4.28 0 0 0 4 2.98a8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21C16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56c.84-.6 1.56-1.36 2.14-2.23Z"/></svg>
                    </a>
                    <a href="#" class="social-link telegram" title="Telegram">
                        <svg width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19c-.14.75-.42 1-.68 1.03c-.58.05-1.02-.38-1.58-.75c-.88-.58-1.38-.94-2.23-1.5c-.99-.65-.35-1.01.22-1.59c.15-.15 2.71-2.48 2.76-2.69c.03-.1.06-.22-.1-.22-.1-.02-.21-.03-.3.1-.2.25-.76.81-1.51 1.47c-.54.48-.94.72-1.27.9c-.47.25-1.02.38-.98.8c.03.35.52.5 1.42.69c1.07.22 2.04.34 2.55.43c.83.14 1.93.17 2.57.07c.78-.13 1.82-.66 2.07-1.23c.26-.58.26-1.07.18-1.23c-.07-.16-.26-.25-.57-.43c-.25-.14-1.47-.74-1.69-.82c-.28-.11-.5-.17-.71.17c-.2.33-.77 1.13-.94 1.36c-.16.23-.33.26-.61.16c-.37-.13-1.12-.42-2.13-1.35c-.79-.72-1.33-1.6-1.48-1.87c-.15-.28-.02-.43.11-.57c.11-.11.25-.29.37-.43c.13-.14.17-.24.26-.4c.08-.17.04-.31-.02-.43c-.06-.11-.56-1.35-.77-1.84c-.2-.48-.4-.42-.56-.43c-.14 0-.3-.01-.47-.01c-.17 0-.45.06-.68.28c-.24.23-.92.9-.92 2.19c0 1.3.95 2.54 1.08 2.71c.12.17 1.88 2.86 4.56 4.08c.63.29 1.12.46 1.51.59c.63.21 1.2.19 1.65.11c.51-.08 1.57-.64 1.79-1.26c.22-.62.22-1.15.15-1.26c-.07-.1-.23-.16-.48-.27z"/></svg>
                    </a>
                </div>
            </div>
        </div>

        <!-- Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© -->
        <div id="calculatorPage" style="display: none;">
            <div class="calculator">
                <h2 data-translate="calculatorTitle">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</h2>
                
                <div class="form-group">
                    <label for="currency" data-translate="currencyLabel">Ø§Ù„Ø¹Ù…Ù„Ø©:</label>
                    <select id="currency" class="form-control" onchange="updateCurrencySymbol()">
                        <option value="SAR">Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ (SAR)</option>
                        <option value="USD">Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ (USD)</option>
                        <option value="EUR">ÙŠÙˆØ±Ùˆ (EUR)</option>
                        <option value="AED">Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ (AED)</option>
                        <option value="EGP">Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ (EGP)</option>
                        <option value="QAR">Ø±ÙŠØ§Ù„ Ù‚Ø·Ø±ÙŠ (QAR)</option>
                        <option value="DZD">Ø¯ÙŠÙ†Ø§Ø± Ø¬Ø²Ø§Ø¦Ø±ÙŠ (DZD)</option>
                        <option value="TND">Ø¯ÙŠÙ†Ø§Ø± ØªÙˆÙ†Ø³ÙŠ (TND)</option>
                        <option value="MAD">Ø¯Ø±Ù‡Ù… Ù…ØºØ±Ø¨ÙŠ (MAD)</option>
                        <option value="LYD">Ø¯ÙŠÙ†Ø§Ø± Ù„ÙŠØ¨ÙŠ (LYD)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="income" data-translate="incomeLabel">Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ (<span class="currency-symbol">Ø±ÙŠØ§Ù„</span>):</label>
                    <input type="number" id="income" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¯Ø®Ù„Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ">
                </div>
                
                <h3 data-translate="expensesLabel">Ø§Ù„Ù†ÙÙ‚Ø§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©:</h3>
                <div class="form-group">
                    <label for="rent" data-translate="rentLabel">Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±/Ø§Ù„Ø±Ù‡Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ:</label>
                    <input type="number" id="rent" class="form-control" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ">
                </div>
                
                <div class="form-group">
                    <label for="utilities" data-translate="utilitiesLabel">Ø§Ù„Ù…Ø±Ø§ÙÙ‚ (ÙƒÙ‡Ø±Ø¨Ø§Ø¡ØŒ Ù…Ø§Ø¡ØŒ Ø¥Ù„Ø®):</label>
                    <input type="number" id="utilities" class="form-control" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ">
                </div>
                
                <div class="form-group">
                    <label for="transportation" data-translate="transportationLabel">Ø§Ù„Ù…ÙˆØ§ØµÙ„Ø§Øª:</label>
                    <input type="number" id="transportation" class="form-control" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ">
                </div>
                
                <div class="form-group">
                    <label for="food" data-translate="foodLabel">Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª:</label>
                    <input type="number" id="food" class="form-control" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ">
                </div>
                
                <div class="form-group">
                    <label for="other" data-translate="otherLabel">Ù†ÙÙ‚Ø§Øª Ø£Ø®Ø±Ù‰:</label>
                    <input type="number" id="other" class="form-control" placeholder="Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø´Ù‡Ø±ÙŠ">
                </div>
                
                <button class="btn btn-primary calculate-btn" onclick="calculateBudget()" data-translate="calculateBtn">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</button>
                
                <div id="result" class="result">
                    <h3 data-translate="summaryTitle">Ù…Ù„Ø®Øµ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©</h3>
                    <div class="summary-item">
                        <span data-translate="totalIncome">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø®Ù„:</span>
                        <span id="total-income">0 <span class="currency-symbol">Ø±ÙŠØ§Ù„</span></span>
                    </div>
                    <div class="summary-item">
                        <span data-translate="totalExpenses">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†ÙÙ‚Ø§Øª:</span>
                        <span id="total-expenses">0 <span class="currency-symbol">Ø±ÙŠØ§Ù„</span></span>
                    </div>
                    <div class="summary-item highlight">
                        <span data-translate="savingsLabel">Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª/Ø§Ù„Ø¹Ø¬Ø²:</span>
                        <span id="savings">0 <span class="currency-symbol">Ø±ÙŠØ§Ù„</span></span>
                    </div>
                    <div id="advice" class="advice-box">
                        <h4 data-translate="adviceTitle">Ù†ØµØ§Ø¦Ø­ Ù…Ø§Ù„ÙŠØ©</h4>
                        <p id="adviceText">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù†ØµØ§Ø¦Ø­ Ù…Ø®ØµØµØ©</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… -->
    <div class="control-buttons">
        <button class="control-btn" onclick="toggleTheme()" id="themeBtn" title="ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„">
            <span id="themeIcon">ğŸŒ™</span>
        </button>
        <button class="control-btn" onclick="toggleLanguage()" id="languageBtn" title="ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©">
            <span id="languageIcon">EN</span>
        </button>
    </div>

    <!-- Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© -->
    <div id="authModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000; justify-content: center; align-items: center;">
        <div class="auth-form" id="loginForm">
            <h2 data-translate="loginTitle">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            <div class="form-group">
                <label for="loginEmail" data-translate="emailLabel">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                <input type="email" id="loginEmail" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
            </div>
            <div class="form-group">
                <label for="loginPassword" data-translate="passwordLabel">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                <input type="password" id="loginPassword" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            </div>
            <button class="btn btn-primary" onclick="login()" data-translate="loginBtn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            <p style="text-align: center; margin-top: 15px;">
                <span data-translate="noAccount">Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ</span> 
                <a href="#" onclick="showAuthForm('register')" data-translate="createAccount">Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ø§Ù‹</a>
            </p>
        </div>

        <div class="auth-form" id="registerForm" style="display: none;">
            <h2 data-translate="registerTitle">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h2>
            <div class="form-group">
                <label for="regName" data-translate="nameLabel">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</label>
                <input type="text" id="regName" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„">
            </div>
            <div class="form-group">
                <label for="regEmail" data-translate="emailLabel">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                <input type="email" id="regEmail" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
            </div>
            <div class="form-group">
                <label for="regPassword" data-translate="passwordLabel">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:</label>
                <input type="password" id="regPassword" class="form-control" placeholder="Ø£Ù†Ø´Ø¦ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©">
            </div>
            <button class="btn btn-primary" onclick="register()" data-translate="registerBtn">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
            <p style="text-align: center; margin-top: 15px;">
                <span data-translate="haveAccount">Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ</span> 
                <a href="#" onclick="showAuthForm('login')" data-translate="loginLink">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„</a>
            </p>
        </div>
    </div>

    <script>
        // Ø­Ø§Ù„Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        const appState = {
            currentLanguage: 'ar',
            currentUser: null,
            users: JSON.parse(localStorage.getItem('users')) || [],
            darkMode: localStorage.getItem('theme') === 'dark',
            currentPage: 'home'
        };

        // Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù (Ø§ÙØªØ±Ø§Ø¶ÙŠØ©)
        const exchangeRates = {
            SAR: 1,
            USD: 3.75,
            EUR: 4.45,
            AED: 1.02,
            EGP: 0.20,
            QAR: 1.03,
            DZD: 0.025,
            TND: 1.25,
            MAD: 0.35,
            LYD: 0.80
        };

        // Ø±Ù…ÙˆØ² Ø§Ù„Ø¹Ù…Ù„Ø§Øª
        const currencySymbols = {
            SAR: "Ø±ÙŠØ§Ù„",
            USD: "$",
            EUR: "â‚¬",
            AED: "Ø¯Ø±Ù‡Ù…",
            EGP: "Ø¬Ù†ÙŠÙ‡",
            QAR: "Ø±ÙŠØ§Ù„",
            DZD: "Ø¯ÙŠÙ†Ø§Ø±",
            TND: "Ø¯ÙŠÙ†Ø§Ø±",
            MAD: "Ø¯Ø±Ù‡Ù…",
            LYD: "Ø¯ÙŠÙ†Ø§Ø±"
        };

        // Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ±Ø¬Ù…Ø©
        const translations = {
            ar: {
                'appTitle': 'Ø´Ù‡Ø±ÙŠØªÙŠ | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ø®ØµÙŠØ©',
                'welcomeTitle': 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø´Ù‡Ø±ÙŠØªÙŠ',
                'welcomeSubtitle': 'Ø£Ø¯Ø§Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©',
                'loginBtn': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
                'registerBtn': 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨',
                'logoutBtn': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬',
                'calculatorTitle': 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©',
                'currencyLabel': 'Ø§Ù„Ø¹Ù…Ù„Ø©:',
                'incomeLabel': 'Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ:',
                'expensesLabel': 'Ø§Ù„Ù†ÙÙ‚Ø§Øª Ø§Ù„Ø«Ø§Ø¨ØªØ©:',
                'rentLabel': 'Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±/Ø§Ù„Ø±Ù‡Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ:',
                'utilitiesLabel': 'Ø§Ù„Ù…Ø±Ø§ÙÙ‚ (ÙƒÙ‡Ø±Ø¨Ø§Ø¡ØŒ Ù…Ø§Ø¡ØŒ Ø¥Ù„Ø®):',
                'transportationLabel': 'Ø§Ù„Ù…ÙˆØ§ØµÙ„Ø§Øª:',
                'foodLabel': 'Ø§Ù„Ø·Ø¹Ø§Ù… ÙˆØ§Ù„Ù…Ø´Ø±ÙˆØ¨Ø§Øª:',
                'otherLabel': 'Ù†ÙÙ‚Ø§Øª Ø£Ø®Ø±Ù‰:',
                'calculateBtn': 'Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©',
                'summaryTitle': 'Ù…Ù„Ø®Øµ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©',
                'totalIncome': 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø®Ù„:',
                'totalExpenses': 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†ÙÙ‚Ø§Øª:',
                'savingsLabel': 'Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª/Ø§Ù„Ø¹Ø¬Ø²:',
                'adviceTitle': 'Ù†ØµØ§Ø¦Ø­ Ù…Ø§Ù„ÙŠØ©',
                'calculatorOption': 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©',
                'calculatorDesc': 'Ø§Ø­Ø³Ø¨ Ø¯Ø®Ù„Ùƒ ÙˆÙ†ÙÙ‚Ø§ØªÙƒ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©',
                'registerOption': 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨',
                'registerDesc': 'Ø§Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ¹Ø¯Ù‘Ù„ Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ù„Ø§Ø­Ù‚Ø§Ù‹',
                'reportsOption': 'Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±',
                'reportsDesc': 'ØªØ­Ù„ÙŠÙ„ Ø¥Ù†ÙØ§Ù‚Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ',
                'loginTitle': 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„',
                'registerTitle': 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯',
                'nameLabel': 'Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:',
                'emailLabel': 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:',
                'passwordLabel': 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±:',
                'noAccount': 'Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ',
                'haveAccount': 'Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ',
                'createAccount': 'Ø£Ù†Ø´Ø¦ Ø­Ø³Ø§Ø¨Ø§Ù‹',
                'loginLink': 'Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„',
                'darkMode': 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ',
                'lightMode': 'Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù†Ù‡Ø§Ø±ÙŠ'
            },
            en: {
                'appTitle': 'Shahryati | Personal Budget Management',
                'welcomeTitle': 'Welcome to Shahryati',
                'welcomeSubtitle': 'Complete tool for your personal budget',
                'loginBtn': 'Login',
                'registerBtn': 'Register',
                'logoutBtn': 'Logout',
                'calculatorTitle': 'Monthly Budget Calculator',
                'currencyLabel': 'Currency:',
                'incomeLabel': 'Monthly Income:',
                'expensesLabel': 'Fixed Expenses:',
                'rentLabel': 'Rent/Mortgage:',
                'utilitiesLabel': 'Utilities (Electricity, Water, etc):',
                'transportationLabel': 'Transportation:',
                'foodLabel': 'Food & Drinks:',
                'otherLabel': 'Other Expenses:',
                'calculateBtn': 'Calculate Budget',
                'summaryTitle': 'Budget Summary',
                'totalIncome': 'Total Income:',
                'totalExpenses': 'Total Expenses:',
                'savingsLabel': 'Savings/Deficit:',
                'adviceTitle': 'Financial Advice',
                'calculatorOption': 'Budget Calculator',
                'calculatorDesc': 'Calculate your monthly income and expenses',
                'registerOption': 'Create Account',
                'registerDesc': 'Save your data and modify later',
                'reportsOption': 'Reports',
                'reportsDesc': 'Analyze your monthly spending',
                'loginTitle': 'Login',
                'registerTitle': 'Create New Account',
                'nameLabel': 'Full Name:',
                'emailLabel': 'Email:',
                'passwordLabel': 'Password:',
                'noAccount': 'Don\'t have an account?',
                'haveAccount': 'Already have an account?',
                'createAccount': 'Create Account',
                'loginLink': 'Login',
                'darkMode': 'Dark Mode',
                'lightMode': 'Light Mode'
            }
        };

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
        });

        function initApp() {
            loadUserPreferences();
            loadLanguage();
            loadTheme();
            updateUI();
            translatePage();
        }

        // ØªØ­Ù…ÙŠÙ„ ØªÙØ¶ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function loadUserPreferences() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            if (user) {
                appState.currentUser = user;
                document.getElementById('usernameDisplay').textContent = user.name;
            }
            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                appState.darkMode = true;
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„ØºØ©
        function loadLanguage() {
            const savedLang = localStorage.getItem('language') || 'ar';
            changeLanguage(savedLang);
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹
        function loadTheme() {
            if (appState.darkMode) {
                enableDarkMode();
            } else {
                disableDarkMode();
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù„ØºØ©
        function toggleLanguage() {
            const newLang = appState.currentLanguage === 'ar' ? 'en' : 'ar';
            changeLanguage(newLang);
        }

        // ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ©
        function changeLanguage(lang) {
            appState.currentLanguage = lang;
            localStorage.setItem('language', lang);
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.getElementById('languageIcon').textContent = lang === 'ar' ? 'EN' : 'AR';
            translatePage();
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
        function toggleTheme() {
            appState.darkMode = !appState.darkMode;
            if (appState.darkMode) {
                enableDarkMode();
            } else {
                disableDarkMode();
            }
        }

        // ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
        function enableDarkMode() {
            document.documentElement.setAttribute('data-theme', 'dark');
            localStorage.setItem('theme', 'dark');
            document.getElementById('themeIcon').textContent = 'â˜€ï¸';
            document.getElementById('themeBtn').setAttribute('title', 
                translations[appState.currentLanguage]['lightMode']);
            appState.darkMode = true;
        }

        // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
        function disableDarkMode() {
            document.documentElement.removeAttribute('data-theme');
            localStorage.setItem('theme', 'light');
            document.getElementById('themeIcon').textContent = 'ğŸŒ™';
            document.getElementById('themeBtn').setAttribute('title', 
                translations[appState.currentLanguage]['darkMode']);
            appState.darkMode = false;
        }

        // ØªØ±Ø¬Ù…Ø© Ø§Ù„ØµÙØ­Ø©
        function translatePage() {
            const lang = appState.currentLanguage;
            const t = translations[lang];
            
            // ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ø§Ù…Ø©
            document.title = t['appTitle'];
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.getAttribute('data-translate');
                if (t[key]) {
                    el.textContent = t[key];
                }
            });
            
            // ØªØ±Ø¬Ù…Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            if (document.getElementById('homePage')) {
                document.querySelector('[data-translate="welcomeTitle"]').textContent = t['welcomeTitle'];
                document.querySelector('[data-translate="welcomeSubtitle"]').textContent = t['welcomeSubtitle'];
            }
            
            // ØªØ±Ø¬Ù…Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø­Ø§Ø³Ø¨Ø©
            if (document.getElementById('calculatorPage')) {
                document.querySelector('[data-translate="calculatorTitle"]').textContent = t['calculatorTitle'];
            }
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function updateUI() {
            if (appState.currentUser) {
                document.getElementById('authButtons').style.display = 'none';
                document.getElementById('userMenu').style.display = 'flex';
            } else {
                document.getElementById('authButtons').style.display = 'flex';
                document.getElementById('userMenu').style.display = 'none';
            }
        }

        // Ø¹Ø±Ø¶ ØµÙØ­Ø© Ù…Ø¹ÙŠÙ†Ø©
        function showPage(page) {
            appState.currentPage = page;
            document.getElementById('homePage').style.display = 'none';
            document.getElementById('calculatorPage').style.display = 'none';
            
            if (page === 'home') {
                document.getElementById('homePage').style.display = 'block';
            } else if (page === 'calculator') {
                document.getElementById('calculatorPage').style.display = 'block';
            }
            
            translatePage();
        }

        // Ø¨Ø¯Ø¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø§Ø³Ø¨Ø©
        function startCalculator() {
            if (appState.currentUser) {
                showPage('calculator');
            } else {
                showAuthForm('login');
            }
        }

        // Ø¹Ø±Ø¶ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
        function showAuthForm(formType) {
            document.getElementById('authModal').style.display = 'flex';
            document.getElementById('loginForm').style.display = formType === 'login' ? 'block' : 'none';
            document.getElementById('registerForm').style.display = formType === 'register' ? 'block' : 'none';
            translatePage();
        }

        // Ø¥Ø®ÙØ§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
        function hideAuthForm() {
            document.getElementById('authModal').style.display = 'none';
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = appState.users.find(u => u.email === email && u.password === password);
            
            if (user) {
                appState.currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                hideAuthForm();
                updateUI();
                showPage('calculator');
            } else {
                alert(appState.currentLanguage === 'ar' ? 
                    'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©' : 
                    'Invalid email or password');
            }
        }

        // ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
        function register() {
            const name = document.getElementById('regName').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            
            const userExists = appState.users.some(u => u.email === email);
            
            if (userExists) {
                alert(appState.currentLanguage === 'ar' ? 
                    'Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙØ¹Ù„' : 
                    'Email already registered');
                return;
            }
            
            const newUser = { 
                name, 
                email, 
                password,
                preferredTheme: appState.darkMode ? 'dark' : 'light'
            };
            
            appState.users.push(newUser);
            appState.currentUser = newUser;
            
            localStorage.setItem('users', JSON.stringify(appState.users));
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            hideAuthForm();
            updateUI();
            showPage('calculator');
        }

        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
        function logout() {
            appState.currentUser = null;
            localStorage.removeItem('currentUser');
            updateUI();
            showPage('home');
        }

        // ØªØ­Ø¯ÙŠØ« Ø±Ù…Ø² Ø§Ù„Ø¹Ù…Ù„Ø©
        function updateCurrencySymbol() {
            const currency = document.getElementById('currency').value;
            document.querySelectorAll('.currency-symbol').forEach(el => {
                el.textContent = currencySymbols[currency];
            });
        }

        // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©
        function calculateBudget() {
            const currency = document.getElementById('currency').value;
            const symbol = currencySymbols[currency];
            
            const income = parseFloat(document.getElementById('income').value) || 0;
            const rent = parseFloat(document.getElementById('rent').value) || 0;
            const utilities = parseFloat(document.getElementById('utilities').value) || 0;
            const transportation = parseFloat(document.getElementById('transportation').value) || 0;
            const food = parseFloat(document.getElementById('food').value) || 0;
            const other = parseFloat(document.getElementById('other').value) || 0;
            
            const totalExpenses = rent + utilities + transportation + food + other;
            const savings = income - totalExpenses;
            
            document.getElementById('total-income').innerHTML = 
                income.toLocaleString(appState.currentLanguage === 'ar' ? 'ar-SA' : 'en-US') + 
                ' <span class="currency-symbol">' + symbol + '</span>';
                
            document.getElementById('total-expenses').innerHTML = 
                totalExpenses.toLocaleString(appState.currentLanguage === 'ar' ? 'ar-SA' : 'en-US') + 
                ' <span class="currency-symbol">' + symbol + '</span>';
            
            const savingsElement = document.getElementById('savings');
            savingsElement.innerHTML = 
                savings.toLocaleString(appState.currentLanguage === 'ar' ? 'ar-SA' : 'en-US') + 
                ' <span class="currency-symbol">' + symbol + '</span>';
            
            savingsElement.style.color = savings > 0 ? 'var(--success-color)' : 
                                      savings < 0 ? 'var(--danger-color)' : 'var(--warning-color)';
            
            // ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ù†ØµÙŠØ­Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
            let advice = "";
            if (appState.currentLanguage === 'ar') {
                if (savings > (income * 0.2)) {
                    advice = "Ù…Ù…ØªØ§Ø²! Ø£Ù†Øª ØªÙˆÙØ± Ø£ÙƒØ«Ø± Ù…Ù† 20% Ù…Ù† Ø¯Ø®Ù„Ùƒ. Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ù…Ù† Ø§Ù„Ø§Ø¯Ø®Ø§Ø± Ù…Ù…ØªØ§Ø² ÙˆÙŠØ³Ù…Ø­ Ù„Ùƒ Ø¨Ø¨Ù†Ø§Ø¡ Ø«Ø±ÙˆØ© Ù…Ø¹ Ø§Ù„ÙˆÙ‚Øª.";
                } else if (savings > 0) {
                    advice = "Ø¬ÙŠØ¯! Ù„Ø¯ÙŠÙƒ ÙØ§Ø¦Ø¶ ÙÙŠ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©. Ø­Ø§ÙˆÙ„ Ø²ÙŠØ§Ø¯Ø© Ù†Ø³Ø¨Ø© Ø§Ù„Ø§Ø¯Ø®Ø§Ø± Ø¥Ù„Ù‰ 20% Ù…Ù† Ø¯Ø®Ù„Ùƒ Ù„Ù„Ø§Ø³ØªÙØ§Ø¯Ø© Ø§Ù„Ù‚ØµÙˆÙ‰.";
                } else if (savings === 0) {
                    advice = "Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ù…ØªÙˆØ§Ø²Ù†Ø© ÙˆÙ„ÙƒÙ† Ø¨Ø¯ÙˆÙ† Ù…Ø¯Ø®Ø±Ø§Øª. ÙŠÙÙ†ØµØ­ Ø¨ØªÙ‚Ù„ÙŠÙ„ Ø¨Ø¹Ø¶ Ø§Ù„Ù†ÙÙ‚Ø§Øª ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¯Ø®Ø±Ø§Øª Ø·Ø§Ø±Ø¦Ø©.";
                } else if (savings >= (income * -0.1)) {
                    advice = "Ù„Ø¯ÙŠÙƒ Ø¹Ø¬Ø² Ø¨Ø³ÙŠØ·. Ø­Ø§ÙˆÙ„ ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù†ÙÙ‚Ø§Øª ØºÙŠØ± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø£Ùˆ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…ØµØ§Ø¯Ø± Ø¯Ø®Ù„ Ø¥Ø¶Ø§ÙÙŠØ©.";
                } else {
                    advice = "ØªØ­Ø°ÙŠØ±! Ù„Ø¯ÙŠÙƒ Ø¹Ø¬Ø² ÙƒØ¨ÙŠØ± ÙÙŠ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©. ÙŠÙÙ†ØµØ­ Ø¨Ù…Ø±Ø§Ø¬Ø¹Ø© Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ Ø¨Ø¹Ù†Ø§ÙŠØ© ÙˆØ±Ø¨Ù…Ø§ Ø§Ø³ØªØ´Ø§Ø±Ø© Ø®Ø¨ÙŠØ± Ù…Ø§Ù„ÙŠ.";
                }
            } else {
                if (savings > (income * 0.2)) {
                    advice = "Excellent! You're saving more than 20% of your income. This savings level is great for building wealth over time.";
                } else if (savings > 0) {
                    advice = "Good! You have a budget surplus. Try to increase your savings to 20% of your income for maximum benefit.";
                } else if (savings === 0) {
                    advice = "Your budget is balanced but with no savings. Consider reducing some unnecessary expenses to create emergency savings.";
                } else if (savings >= (income * -0.1)) {
                    advice = "You have a small deficit. Try to reduce non-essential expenses or look for additional income sources.";
                } else {
                    advice = "Warning! You have a significant budget deficit. Carefully review your budget and consider consulting a financial expert.";
                }
            }
            
            document.getElementById('adviceText').textContent = advice;
            document.getElementById('result').style.display = 'block';
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©
        function showComingSoon() {
            alert(appState.currentLanguage === 'ar' ? 
                "Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© Ø³ØªÙƒÙˆÙ† Ù…ØªØ§Ø­Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹" : 
                "This feature will be available soon");
        }
    </script>
</body>
</html>
